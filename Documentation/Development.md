# Replicating the Development Environment

## Prerequisites
* Visual Studio [Link](https://visualstudio.microsoft.com/)
  * Any edition is okay, but the version should support .NET Core v6.
  * When installing Visual Studio, make sure to include .NET Core v6. If there are any options to install Entity Framework as well, install it.
* Docker Desktop [Link](https://www.docker.com/products/docker-desktop/)
* Node v18.7 or above [Link](https://nodejs.org/en/)

Once these are installed, the development environment can be cloned from the BitBucket repository. Clicking the "Clone" button on the BitBucket repo, which is private, allows a user with access to copy the Git URL. This can be pasted into Visual Studio on the dashboard page under "Clone Project" in order to clone the repository. An example of the "Clone" button on BitBucket is shown below.

![image](https://user-images.githubusercontent.com/70241666/198178141-ad27f0c3-bc05-4137-a94a-68383ae9ebd6.png)

## Dependencies
* .NET Core v6
* .NET Entity Framework
  * This includes the In-Memory Database part of Entity Framework.
    * The project already includes these as dependencies, so opening the project in Visual Studio will prompt you with the ability to download or download them automatically.
* Duende
  * The project already includes this as a dependency, so opening the project in Visual Studio will prompt you with the ability to download or download it automatically.
* Yarn
  * Once you have Node installed, you can simply run `npm install --global yarn` to install Yarn globally.
* Xunit
  * This is a dependency for the project in .NET, so Visual Studio will prompt you with a download or do it automatically.
* Vue, Typescript, Vite, Axios
  * Running `yarn install` in the directory for the Vue project, `bsucapstone.efinplan\src\eFinPlan.Vue`, will automatically install these.

## Structure
eFinPlan's development branch is feature/creation. Its master branch is simply called master. There are also branches, such as feature/api, for specific development focuses, like the API definitions.
* Root
  * The root of the project contains multiple files, such as the Docker files used to build the project, certificates used for SSL, a README, the gitignore, and the Solution file for Visual Studio.
* AwsDeployment
  * This folder contains scripts to deploy the built project to AWS. It has two subfolders, one for Definitions and the other for helper Scripts. The main build and deploy scripts are in the root of this folder.
* readmeAssets
  * This contains the images held within the README file.
* obj
  * This contains caches of Docker builds of the project.
* src
  * This contains the project source code.
  * DevHttps
    * This contains all of the files and scripts used to make certificates for the deployed site.
  * eFinPlan.API
    * This is a Project folder within the .NET Solution that contains the Controllers and routing for eFinPlan.
    * The Controllers folder contains the Controllers for each Model for eFinPlan.
  * eFinPlan.API.Tests
    * This is a Project folder within the .NET Solution that contains the tests for the API Project.
  * eFinPlan.Core
    * This is a Project folder within the .NET Solution that contains the Model definitions and Entity Framework contexts for eFinPlan.
    * The Models folder contains the Model definitions.
    * The Data folder contains the Entity Framework context definitions.
  * eFinPlan.Core.Tests 
    * This is a Project folder within the .NET Solution that contains the tests for the Core Project.
  * eFinPlan.Web
    * This is a Project folder within the .NET Solution that contains the authentication and authorization code for eFinPlan. It uses Duende for authentication and authorization.
  * eFinPlan.Web.Tests
    * This is a Project folder within the .NET Solution that contains the tests for the Web Project.
  * eFinPlan.Vue
    * This is a Project folder within the .NET Solution that contains the Vue frontend. Because Vue provides testing in its own environment, tests are held here as well.
Every Project folder contains a bin folder with autogenerated .NET build files, an obj folder for Docker caches and dependencies, a Properties folder for launch setting configs, a Dockerfile, a .NET Project definition file, and a appsettings.json configuration file for environment variables.

The configuration files include the appsettings.json and launchSettings.json for each Project, Project definition .csproj files, and the tsconfig for the Vue frontend. The Solution file also contains configuration options; these can be edited from within Visual Studio.

# Testing
Testing can be done from within Visual Studio. To run all of the tests of a file, right click the .Test Project you wish to test and click on the "Run Tests" option, as shown below.

![image](https://user-images.githubusercontent.com/70241666/198176988-a6d801f5-0135-48df-8209-a58a8dc47fc7.png)

You can run all of the tests by selecting the Solution at the top and clicking "Run Tests" as shown below.

![image](https://user-images.githubusercontent.com/70241666/198177370-467cbc00-a6fa-4b28-8ca2-437f718bff43.png)

To run a single test, right click the .Test project and select "Show in Test Explorer" as shown below.

![image](https://user-images.githubusercontent.com/70241666/198177169-58096155-a602-4bb3-885c-93858c8a0e72.png)

Then, you can select a single test and click the green Play icon to run the selected test(s). An example of a passing test output is shown below.

![image](https://user-images.githubusercontent.com/70241666/198177264-2a7cc0a6-dbed-48ca-8ed1-d89cbff4be25.png)

In this report, the green checkmarks indicate a passing test. If they failed, they will appear as a red "X". On the right side of the Test Explorer, you can see the total runtime of the tests, the total tests passed or failed, and any warnings or errors that occur. Clicking on the Error or Warning text will show you the details of any warning or error.

